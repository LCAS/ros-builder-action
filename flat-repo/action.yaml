name: ROS buildfarm
description: Github action to build .deb packages from ROS sources
author: Robert Haschke
branding:
  icon: 'package'
  color: 'green'

inputs:
  DEBS_PATH:
    description: path to incoming debs
    required: true
  REPO_PATH:
    description: path to build repository within
    required: true
  ROS_DISTRO:
    description: The ROS distribution codename to compile for
    required: true
  DEB_DISTRO:
    description: The Debian/Ubuntu distribution codename to compile for
    required: false

runs:
  # We need to go through JS to allow folding output generated from the shell script
  # composite actions would create own foldings for each step
  using: 'node16'
  main: 'flat-repo.js'
